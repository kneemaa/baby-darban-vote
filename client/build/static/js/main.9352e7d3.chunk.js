(this["webpackJsonpbaby-darban-vote"]=this["webpackJsonpbaby-darban-vote"]||[]).push([[0],{58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(30),r=n.n(s),c=n(32),o=n(2),i=n(0),l=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"404 Page Not Found"}),Object(i.jsx)("h1",{children:Object(i.jsx)("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji",children:"\ud83d\ude44"})})]})},d=n(6),u=n(7),h=n(9),b=n(8),j=n(13),f=n.n(j),O=function(){return f.a.get("/api/genders")},m=function(e){return f.a.post("/api/vote",e)},v=function(){return f.a.get("/api/reveal")},g=function(e){return f.a.get("/api/winners/"+e)},p=n(18),x=(n(58),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"options",value:function(){return p.a.addColorSet("genderShades",["#ADD8E6","#ffb6c1"]),{colorSet:"genderShades",backgroundColor:null,animationEnabled:!0,theme:"dark2",title:{text:"Guesses"},axisX:{reversed:!0},axisY:{includeZero:!0,labelFormatter:this.addSymbols},data:[{type:"bar",dataPoints:[{y:this.props.boys,label:"Boy"},{y:this.props.girls,label:"Girl"}]}]}}},{key:"render",value:function(){return Object(i.jsx)("div",{className:"chart",children:Object(i.jsx)(p.b,{options:this.options(),boys:this.props.boys})})}},{key:"addSymbols",value:function(e){var t=["","K","M","B"],n=Math.max(Math.floor(Math.log(e.value)/Math.log(1e3)),0);n>t.length-1&&(n=t.length-1);var a=t[n];return p.a.formatNumber(e.value/Math.pow(1e3,n))+a}}]),n}(a.Component)),y=x,C=n(16),N=n(10),k=function(e){return Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)("input",Object(N.a)({className:"form-control"},e))})},w=function(e){return Object(i.jsx)("button",Object(N.a)(Object(N.a)({},e),{},{className:"btn btn-success",children:e.children}))},S=(a.Component,n(59),n(60),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={author:"",gender:""},e.castVote=function(t){t.preventDefault(),e.state.author&&e.state.gender&&m({gender:e.state.gender,author:e.state.author}).then((function(t){return console.log("vote cast for "+e.state.author)})).catch((function(e){return console.log(e)}))},e.postCastedVote=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(C.a)({},a,s))},e.onCastBallot=function(t){e.castVote(t),e.props.voteCallback({ballotCast:!0}),t.preventDefault()},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsx)("div",{className:"grid-card",children:Object(i.jsx)("div",{className:"container alert form-wrap",children:Object(i.jsxs)("div",{className:"poll-question",children:[Object(i.jsx)("h2",{children:"What gender do you think Baby Darban will be?"}),Object(i.jsxs)("form",{children:[Object(i.jsx)("label",{className:"col-form-label mt-2",children:Object(i.jsx)(k,{value:this.state.author,onChange:this.postCastedVote,placeholder:"what's your name?",name:"author"})}),Object(i.jsxs)("div",{onChange:this.postCastedVote.bind(this),children:[Object(i.jsx)("input",{type:"radio",className:"form-check-input",id:"optionsRadios1",value:"boy",name:"gender"})," Boy",Object(i.jsx)("p",{}),Object(i.jsx)("input",{type:"radio",className:"form-check-input",id:"optionsRadios2",value:"girl",name:"gender"})," Girl"]}),Object(i.jsx)(w,{onClick:this.onCastBallot,children:"Cast Vote"})]})]})})})}}]),n}(a.Component)),T=S,E=n(31),D=(n(63),function(e){var t=function(){return Object(i.jsx)("span",{children:"You are good to go!"})};return Object(i.jsx)(E.a,{daysInHours:!0,date:Date.now()+e.timeLeft,renderer:function(e){var n=e.days,a=e.hours,s=e.minutes,r=e.seconds;return e.completed?Object(i.jsx)(t,{}):Object(i.jsxs)("div",{className:"count-down-timer",children:[Object(i.jsx)("p",{children:" Revealing the Gender in ... "}),Object(i.jsxs)("span",{className:"Countdown",children:[n," days | ",a," hours | ",s," minutes | ",r," seconds"]})]})}})}),M=function(e){return Object(i.jsx)("div",{children:Object(i.jsxs)("p",{children:["we're having baby ",e.reveal,"!"]})})},_=(n(64),function(){return Object(i.jsxs)("div",{className:"footer",children:[Object(i.jsx)("div",{children:Object(i.jsx)("h4",{children:"Arriving April 24, 2022!"})}),Object(i.jsx)("div",{className:"d-grid gap-2",children:Object(i.jsx)("button",{className:"btn btn-lg btn-info calendar-save",type:"button",children:Object(i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://calendar.google.com/event?action=TEMPLATE&tmeid=NWVwMGZsaWhwaTJhbnRyYWM1NWdvYWYwcjcgY19sMThldWZndTBudGptbDM2ZGgzZTIxbDJia0Bn&tmsrc=c_l18eufgu0ntjml36dh3e21l2bk%40group.calendar.google.com",children:"Click to add to your Google Calendar"})})})]})}),R=(n(65),function(e){var t=e.children;return Object(i.jsx)("div",{className:"list-overflow-container",children:Object(i.jsx)("ul",{className:"list-group",children:t})})}),L=function(e){return Object(i.jsx)("li",{className:"list-group-item",children:e.children})},W=n(20),V=n.n(W),A=n(21),B=(n(67),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={genders:[],winners:[],girls:0,boys:0,timeLeft:1e3,gender:"",author:"",reveal:"",ballotCast:!1,endTime:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENDTIME:"2021-11-18 16:00:00"}).ENDTIME||"2021-11-16 17:00:00"},e.loadResults=function(){O().then((function(t){return e.setState({genders:t.data})})).catch((function(e){return console.log(e)})).then((function(t){return e.breakDownGender()})),(new A.a).get("ballotCast")&&e.setState({ballotCast:!0}),e.state.timeLeft>=0&&v().then((function(t){e.setState({reveal:t.data.result}),g(t.data.result).then((function(t){return e.setState({winners:t.data})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},e.handleCastedVote=function(t){e.setState(t),e.loadResults(),(new A.a).set("ballotCast",{path:"/"})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadResults(),this.getTimeLeft()}},{key:"breakDownGender",value:function(){var e=this.state.genders;for(var t in e)"girl"===e[t].gender&&this.setState((function(e){return{girls:e.girls+1}})),"boy"===e[t].gender&&this.setState((function(e){return{boys:e.boys+1}}))}},{key:"getTimeLeft",value:function(){var e=V()(this.state.endTime).diff(V()(),"seconds");this.setState({timeLeft:e})}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("div",{className:"col-lg-4",children:Object(i.jsx)("div",{className:"main-body",children:this.state.timeLeft<=0?Object(i.jsx)("div",{children:this.state.ballotCast?Object(i.jsxs)("div",{children:[Object(i.jsx)(M,{reveal:this.state.reveal}),Object(i.jsx)("span",{children:"Who guessed right?"}),Object(i.jsx)(R,{children:this.state.winners.map((function(e){return Object(i.jsx)(L,{children:Object(i.jsx)("strong",{children:e.author})},e._id)}))})]}):Object(i.jsx)(T,{voteCallback:this.handleCastedVote})}):Object(i.jsxs)("div",{children:[Object(i.jsx)(D,{timeLeft:1e3*this.state.timeLeft}),this.state.ballotCast?Object(i.jsx)(y,{boys:this.state.boys,girls:this.state.girls}):Object(i.jsx)(T,{voteCallback:this.handleCastedVote})]})})}),Object(i.jsx)("div",{className:"col-lg-6",children:Object(i.jsx)(_,{})})]})}}]),n}(a.Component)),G=B,P=document.getElementById("root");r.a.render(Object(i.jsx)(c.a,{children:Object(i.jsxs)(o.c,{children:[Object(i.jsx)(o.a,{path:"/",element:Object(i.jsx)(G,{})}),Object(i.jsx)(o.a,{path:"*",element:Object(i.jsx)(l,{})})]})}),P)}},[[68,1,2]]]);
//# sourceMappingURL=main.9352e7d3.chunk.js.map